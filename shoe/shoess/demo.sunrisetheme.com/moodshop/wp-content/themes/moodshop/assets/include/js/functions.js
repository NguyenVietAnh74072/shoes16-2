function debounce(func,wait,immediate){var timeout;return function(){var context=this,args=arguments;var later=function(){timeout=null;if(!immediate)func.apply(context,args)};var callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow)func.apply(context,args)}}(function($,sr){var debounce=function(func,threshold,execAsap){var timeout;return function debounced(){var obj=this,args=arguments;function delayed(){if(!execAsap)
func.apply(obj,args);timeout=null};if(timeout)
clearTimeout(timeout);else if(execAsap)
func.apply(obj,args);timeout=setTimeout(delayed,threshold||100)}}
jQuery.fn[sr]=function(fn){return fn?this.bind('resize',debounce(fn)):this.trigger(sr)}})(jQuery,'smartresize');(function($){"use strict";if(prevent_embed[0]){if(top!=self)top.location.replace(self.location.href)}
var body=$('body'),_window=$(window),br_w=0,br_h=0;_window.load(function(){br_w=_window.width();br_h=_window.height();if(br_w>767){$('.sticky-enabled').stick_in_parent()}});if($().slick){$('.menu-item-has-mega-menu').on('mouseenter mouseleave',function(e){if(e.type=='mouseenter'){$(this).find('.basr-slick').slick()}else{$(this).find('.basr-slick').slick('unslick')}})}
$('.st-menu .dropdown-trigger').click(function(e){$(this).parent().find('> ul').slideToggle()})
$('.widget_nav_menu .dropdown-trigger').each(function(i,e){var el=$(e);el.css('left',el.parent().find('> a').width()+10+'px')});$('.widget_nav_menu .dropdown-trigger').click(function(e){$(this).toggleClass('active');$(this).parent().find('> ul').slideToggle();$(this).parent().find('.dropdown-trigger').each(function(i,e){var el=$(e);el.css('left',el.parent().find('> a').width()+10+'px')})})
$(".header-main li").on('mouseenter mouseleave',function(e){var $this=$(this),$submenu=$this.children('ul'),gutter=$('.header-main .container').offset().left;if($submenu.length>0){if($submenu.offset().left+gutter>window.outerWidth){$submenu.addClass('overflow')}
if($submenu.offset().left-$submenu.outerWidth()+gutter<0){$submenu.addClass('overflow-left')}
if(e.type=='mouseleave')$submenu.removeClass('overflow')}});$(".m-menu")
function mega_menu_positioner(){var $container=$('.container'),$megaRow=$('.mega-menu-row');$megaRow.width($container.outerWidth())}
mega_menu_positioner();_window.resize(debounce(function(){mega_menu_positioner()},300));var menuAnimation='<style type="text/css">.c-hamburger--htx span::before {'+'-webkit-transition-property: top,-webkit-transform;'+'transition-property: top,transform;'+'}'+'.c-hamburger--htx span::after {'+'-webkit-transition-property: bottom,-webkit-transform;'+'transition-property: bottom,transform;'+'}</style>';$('head').append(menuAnimation);$.each($('.td-menu'),function(){var self=$(this);self.height(self.find('> ul > li').first().height());self.find('> ul').append('<li class="smart-nav"><a href="#"><span class="c-hamburger c-hamburger--htx"><span>toggle menu</span></span></a></li>')});$('.menu-style-2 .togle-menu-2').on('click',function(){$(this).closest('.menu-style-2').find('.c-hamburger').toggleClass('is-active');$(this).closest('.menu-style-2').find('.wrap-fixed-menu').toggleClass('active')});function menu_responsive(){$.each($('.td-menu'),function(){if(!$(this).hasClass('menu-smart-off')){var nav=$(this).parent().parent(),navWrapWidth=nav.outerWidth(),navUl=$(this).find('> ul'),navLis=navUl.find('> li'),navLisWidth=0,hiddenItemHomeId='hidden-items-'+Math.floor(Math.random()*6);nav.find('.smart-nav > ul').remove();nav.find('.smart-nav').append('<ul class="sub-menu" id="'+hiddenItemHomeId+'"></ul>');var hiddenItemHome=$('#'+hiddenItemHomeId);hiddenItemHome.html('');navLis.removeClass('hidden-item');var navMoreWidth=navUl.find('> .smart-nav').outerWidth(),realWidth=navWrapWidth-navMoreWidth;console.log(navWrapWidth);navLis.each(function(){var self=$(this);navLisWidth+=self.outerWidth(!0);if(navLisWidth>realWidth){self.addClass('hidden-item');if(!self.hasClass('smart-nav')){if(self.hasClass('menu-item-has-mega-menu')){var mega=self.clone();mega.find('> .mega-menu > .sub-menu').removeClass('mega-menu-row').appendTo(mega);mega.appendTo(hiddenItemHome)}else{self.clone().appendTo(hiddenItemHome)}}}})}})}
menu_responsive();$(window).smartresize(function(){menu_responsive()});$(".smart-nav").click(function(){$(this).toggleClass('active');$(this).find('.c-hamburger').toggleClass('is-active')});var subMenuWidth=$('li > .sub-menu').first().width();$('.header-builder-type-nav .menu-item-has-children').hover(function(){var subMenu=$(this).find('> .sub-menu');if(subMenu.length>0){var subMenuOffset=subMenu.offset(),subMenuOffsetRight=br_w-subMenuOffset.left;if(subMenuOffsetRight<subMenuWidth*0.8){subMenu.css('left','-'+(subMenuWidth-1)+'px')}}},function(){$(this).find('> .sub-menu').removeAttr('style')});(function(){var morphSearch=document.getElementById('morphsearch'),trigger=document.querySelectorAll('.search-trigger'),input=morphSearch.querySelector('input.morphsearch-input'),ctrlClose=morphSearch.querySelector('span.morphsearch-close'),isOpen=!1,isAnimating=!1,toggleSearch=function(evt){if(evt.type.toLowerCase()==='focus'&&isOpen)return!1;if(isOpen){classie.remove(morphSearch,'open');if(input.value!==''){setTimeout(function(){classie.add(morphSearch,'hideInput');setTimeout(function(){classie.remove(morphSearch,'hideInput');input.value=''},300)},500)}
input.blur()}
else{classie.add(morphSearch,'open')}
isOpen=!isOpen};if(trigger===null)
return;input.addEventListener('focus',toggleSearch);ctrlClose.addEventListener('click',toggleSearch);trigger.forEach(function(trig){trig.addEventListener('click',function(e){toggleSearch(e);input.focus()})});document.addEventListener('keydown',function(ev){var keyCode=ev.keyCode||ev.which;if(keyCode===27&&isOpen){toggleSearch(ev)}})})();$(document).on('keydown.basr',function(e){var url=!1;if(e.which===37){url=$('.previous-image a').attr('href')}else if(e.which===39){url=$('.entry-attachment a').attr('href')}
if(url&&(!$('textarea, input').is(':focus'))){window.location=url}});_window.on('hashchange.basr',function(){var element=document.getElementById(location.hash.substring(1));if(element){if(!/^(?:a|select|input|button|textarea)$/i.test(element.tagName)){element.tabIndex=-1}
element.focus();window.scrollBy(0,-80)}});$('.blog-masonry').imagesLoaded(function(){$('.blog-masonry').isotope({percentPosition:!0,itemSelector:'.masonry-item',masonry:{columnWidth:'.masonry-sizer',}})});$(document).ready(function(){var $container=$('.basr-blog .site-content');$container.imagesLoaded(function(){if($container.hasClass('blog-masonry')){$container.isotope({itemSelector:'.hentry'})}});$container.infinitescroll({navSelector:'.pagination-ajax',nextSelector:'.pagination-ajax a',itemSelector:'.hentry',loadingImg:"http://i.imgur.com/qkKy8.gif",loadingText:"Loading new posts...",donetext:"No more post to load."},function(newElements){var $newElems=$(newElements).css({opacity:0});$newElems.imagesLoaded(function(){$newElems.animate({opacity:1});if($container.hasClass('blog-masonry')){$container.masonry('appended',$newElems,!0)}else{$container.append($newElems)}})});$(window).unbind('.infscr');$('.pagination-ajax a').click(function(){$(document).trigger('retrieve.infscr');return!1});$(document).ajaxError(function(e,xhr,opt){if(xhr.status==404)$('.pagination-ajax a').remove()})});if($().isotope&&$().imagesLoaded){$('.isotope-wrap').each(function(){var $this=$(this);var $container=$this;$this.imagesLoaded(function(){var isotope_args={itemSelector:'.hentry',transitionDuration:'.55s',percentPosition:!0,masonry:{},};if($container.hasClass('portfolio-layout-grid')){isotope_args.layoutMode='fitRows'}
if($container.hasClass('portfolio-layout-masonry'))isotope_args.layoutMode='masonry';if($container.hasClass('portfolio-layout-free'))isotope_args.layoutMode='masonry';if($container.hasClass('portfolio-layout-free'))isotope_args.masonry.columnWidth='.masonry-sizer';var $grid=$container.isotope(isotope_args);var animation=$grid.data('animation');if(animation=!0){$container.find('.hentry').find('.insider').each(function(){var $this=$(this);$this.parent().one('inview',function(event,isInView,visiblePartX,visiblePartY){if(isInView){$this.addClass('run_animation')}})})}
$('.wrap-filter').find('.cd-dropdown').find('span').click(function(){if($(this).parent().parent().parent().hasClass('cd-active')){var selector=$(this).attr('class');$container.isotope({filter:selector,})}});if($('.isotope-filter').length>0){$('.isotope-filter .menu a').on('click',function(){$('.isotope-filter .active').removeClass('active');$(this).parent().addClass('active');var selector=$(this).attr('data-filter');$container.isotope({filter:selector,});return!1});$('.toggle-nav-filter a').on('click',function(){$('.isotope-filter').toggleClass('active');return!1})}
if($('.portfolio-time-line').length>0){$this.find('article').each(function(){if($(this).css('left').replace(/[^-\d\.]/g,'')>0)
$(this).addClass('item-right');else $(this).addClass('item-left')})}})})}
$('.widget_nav_menu .mega-menu').each(function(index,el){e=$(el);e.find('> .sub-menu').appendTo(e.parent())});$('.m-menu .mega-menu').each(function(index,el){e=$(el);e.find('> .sub-menu').attr('style','').appendTo(e.parent())});$('.close-sidebar').on('click',function(){$('body').trigger('click')});$(function(){$(window).scroll(function(){if($(this).scrollTop()>100){$('#back-top').fadeIn()}else{$('#back-top').fadeOut()}});$('#back-top').click(function(){$('body,html').animate({scrollTop:0},800);return!1})})})(jQuery)